<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:a4j="http://richfaces.org/a4j"
		xmlns:rich="http://richfaces.org/rich"
		>

  <h:head>
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  </h:head>
  <h:body>    
  	<ui:composition template="templates/template.xhtml">
  		<h:messages></h:messages>
	  	<ui:define name="title">Location Information</ui:define>
	  	<ui:define name="content">
	  	<div class="main">
	  	<h:outputStylesheet name="css/loc.css" />
	
	    <div style="width:505px">
	    <h:form>
	    <rich:extendedDataTable id="list" value="#{loc.locations}" var="l" width="500px" frozenColumns="1" height="200px" selection="#{tbl.selection}" selectionMode="single" rows="10" >
	    	<f:facet name="header">
	    		<h:panelGroup>
		    		<h:outputText value="Existing Locations"/>
		    			<h:panelGroup styleClass="addLoc">
			    		<a4j:commandLink value="+">
			    			<rich:componentControl target="add_loc" operation="show" />
			    		</a4j:commandLink>	
		    		</h:panelGroup>
	    		</h:panelGroup>
	    	</f:facet>
     		<f:facet name="footer">
	    		<rich:dataScroller stepControls="false" fastControls="false" boundaryControls="false" rendered="#{loc.locations.size() > 10}">
	    		</rich:dataScroller>
	    	</f:facet> 
	   		
	   		<a4j:ajax execute="@this" event="selectionchange" listener="#{tbl.selectionListener}" render=":img_list"/>
	   		
	   		<rich:column width="200px" selectable="true">
	    		<f:facet name="header">	
	    			<h:outputText value="Name" />
	    		</f:facet>
	    		<h:outputText value="#{l.name}" />
	    		<!-- <h:outputText value="#{l.name}" />-->
	   		</rich:column>
	   		
	   		<rich:column width="300px">
	    		<f:facet name="header">	
	    			<h:outputText value="Description" />
	    		</f:facet>
	    		<h:outputText value="#{l.description}"/>
	   		</rich:column>
	    </rich:extendedDataTable>
	    </h:form>
	    </div>
	    
	    <ui:include src="media_panel.xhtml"></ui:include>
	    
	    <ui:include src="addloc_panel.xhtml"></ui:include>
	    </div>
	</ui:define>
	</ui:composition>    
  </h:body>
</html> 
