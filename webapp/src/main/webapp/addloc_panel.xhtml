<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:a4j="http://richfaces.org/a4j"
		xmlns:rich="http://richfaces.org/rich"
		>
<ui:composition>
	    <!--  The output panel popup to add new elements -->
	    <rich:popupPanel id="add_loc" modal="true" resizable="true">
	    <f:facet name="header">
	    	<h:outputText value="Add New Location" />
	    </f:facet>
	    <div class="form">
	    <h:form prependId="false" id="f0" styleClass="form">
	    	<h3>Add Location</h3>    	
	    	<h:panelGroup styleClass='inputRow'>
	    		<h:outputLabel value="Name:" for="name" />
	    		<rich:inplaceInput value="${loc.loccasion.name}" id="name" 
	    				defaultLabel="Location Name" required="true" readyStateClass="txtInput" editClass="txtInput" requiredMessage="This field is required."/>
	    		<h:message for="name" showDetail="true" styleClass="message" id="name_msg"/>
	    	</h:panelGroup>
	    	    	
	    	<h:panelGroup styleClass='inputRow'>
	    		<h:outputLabel value="Tag:" for="tag" />
	    		<rich:inplaceInput value="${loc.loccasion.tag}" id="tag" defaultLabel="Tags - Separate with commas" readyStateClass="txtInput" editClass="txtInput" />
	    		<!-- <h:message for="tag" />-->
	    	</h:panelGroup>
	    	    	
	    	<h:panelGroup styleClass='inputRow'>
	    		<h:outputLabel value="Description:" for="desc" />
	    		<rich:inplaceInput value="${loc.loccasion.description}" id="desc" defaultLabel="Location Description" readyStateClass="txtInput" editClass="txtInput" required="true" requiredMessage="This field is required." />
	    		<h:message for="desc" styleClass="message" />
	    	</h:panelGroup>
	    	
	    	<h:panelGroup styleClass='inputRow'>
	    		<h:outputLabel value="Location" for="loc" />
	    		<rich:inplaceInput value="${loc.loccasion.coord}" id="loc" converter="CoordConv" defaultLabel="Coordinates" readyStateClass="txtInput" editClass="txtInput"/>
	    	<!-- 	<h:message for="loc" /> -->
	    	</h:panelGroup>
	    	
	    	<h:panelGrid styleClass="buttonRow" columns="2" columnClasses="halfSize, halfSize">
	    	<a4j:commandButton value="Add" action="#{loc.createLoc}" render=":list,@form" styleClass="submitButton" onclick="#{rich:component('add_loc')}.hide();return true;" />
	    	
	    	<a4j:commandButton value="Cancel" styleClass="submitButton">
	    		<rich:componentControl target="add_loc" operation="hide"/>
	    	</a4j:commandButton>
	    	</h:panelGrid>
	    </h:form>
	    </div>
	    </rich:popupPanel>
   </ui:composition>
</html>